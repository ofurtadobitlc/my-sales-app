@if (productsObservable|async) {
<div [formGroup]="searchForm" style="margin-top: 15px;">
    <div class="container">
        <mat-form-field class="width-full" appearance="outline">
            <input matInput type="search" placeholder="Search" formControlName="searchTerm" />
            <mat-icon matSuffix>search</mat-icon>
        </mat-form-field>
    </div>
</div>
<div class="container wrap" style="gap: 25px; width: 100%; justify-content: center;">
    @for(product of products; track product.id){
    <div style="width: 300px;">
        <mat-card class="p-10" appearance="filled" style="height: 100%;">
            <mat-card-title-group style="height: 100%;">
                <mat-card-subtitle>
                    {{ product.category?.name }}
                </mat-card-subtitle>
                <mat-card-subtitle>
                    <h3>{{ product.name }}</h3>
                </mat-card-subtitle>
                <div>
                    <strong>{{ product.unitPrice | currency }} </strong>
                </div>
            </mat-card-title-group>
            <mat-card-content>
                Units in Stock: {{ product.unitsInStock }}
            </mat-card-content>
            <div style="display: flex; align-items: center; justify-content: space-between;">
                <div class="width-full"></div>
                <mat-card-actions>
                    <button mat-flat-button (click)="onAddToCart(product)" [disabled]="product.unitsInStock==0">
                        ADD
                        <mat-icon>add_shopping_cart</mat-icon>
                    </button>
                </mat-card-actions>
            </div>
        </mat-card>
    </div>
    }
</div>
} @else {
<loading-bar></loading-bar>
}